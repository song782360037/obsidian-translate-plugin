# Obsidian 翻译插件 (Translate Plugin)

一个功能强大的 Obsidian 翻译插件，支持多种翻译服务和显示模式，让您在 Obsidian 中轻松进行文本翻译。

## ✨ 主要功能

### 🌐 多翻译服务支持
- **OpenAI GPT** - 基于 AI 的高质量翻译
- **自定义 API** - 支持自定义翻译接口
- 更多翻译服务持续添加中...

### 🎨 多种显示模式
- **弹窗模式** - 在弹窗中显示翻译结果
- **侧边栏模式** - 在侧边栏中持续显示翻译
- **内联模式** - 直接在文档中显示翻译结果

### 🔧 智能功能
- **自动语言检测** - 智能识别源语言
- **设置页面翻译** - 支持翻译插件设置界面
- **快捷键支持** - 快速翻译选中文本
- **格式保持** - 保持原文的格式和结构
- **批量翻译** - 支持翻译大段文本

## 📦 安装方法

### 方法一：手动安装
1. 下载最新版本的插件文件
2. 将文件解压到 Obsidian 插件目录：`{vault}/.obsidian/plugins/obsidian-translate-plugin/`
3. 在 Obsidian 设置中启用插件

### 方法二：开发者安装
1. 克隆仓库到插件目录
```bash
cd {vault}/.obsidian/plugins/
git clone https://github.com/your-repo/obsidian-translate-plugin.git
cd obsidian-translate-plugin
npm install
npm run build
```
2. 在 Obsidian 设置中启用插件

## 🚀 使用说明

### 基本设置
1. 打开 Obsidian 设置 → 第三方插件 → Translate Plugin
2. 配置翻译服务：
   - **OpenAI**：输入 API Key 和设置参数
   - **自定义 API**：配置接口地址和认证信息
3. 选择默认目标语言
4. 设置显示模式偏好

### 翻译操作

#### 快捷键翻译
- 选中文本后按 `Ctrl+Shift+T` 进行翻译
- 在设置页面按 `Ctrl+Shift+P` 翻译设置项

#### 命令面板
1. 按 `Ctrl+P` 打开命令面板
2. 搜索 "Translate" 相关命令：
   - `Translate: 翻译选中文本`
   - `Translate: 打开翻译侧边栏`
   - `Translate: 翻译当前页面`

#### 右键菜单
- 选中文本后右键，选择 "翻译" 选项

### 显示模式

#### 弹窗模式
- 翻译结果在弹窗中显示
- 支持复制、替换原文等操作
- 可以调整翻译参数后重新翻译

#### 侧边栏模式
- 在右侧边栏显示翻译面板
- 实时显示翻译结果
- 支持历史记录查看

#### 内联模式
- 翻译结果直接显示在文档中
- 保持文档的连续性
- 支持一键替换原文

## ⚙️ 配置选项

### OpenAI 设置
- **API Key**：OpenAI API 密钥
- **模型**：选择 GPT 模型（gpt-3.5-turbo, gpt-4 等）
- **最大 Token**：限制单次翻译的最大 token 数
- **温度**：控制翻译的创造性（0-1）
- **提示词**：自定义翻译提示词

### 自定义 API 设置
- **接口地址**：翻译 API 的 URL
- **请求方法**：GET 或 POST
- **认证方式**：API Key、Bearer Token 等
- **请求格式**：配置请求参数格式
- **响应解析**：配置响应数据解析规则

### 界面设置
- **默认显示模式**：弹窗/侧边栏/内联
- **默认目标语言**：设置常用的翻译目标语言
- **快捷键**：自定义翻译快捷键
- **自动检测语言**：是否启用源语言自动检测

## 🔧 高级功能

### 批量翻译
- 支持翻译整个文档或选中的大段文本
- 自动分段处理，避免 token 限制
- 保持原文格式和结构

### 翻译历史
- 自动保存翻译历史记录
- 支持搜索和管理历史翻译
- 可以重用之前的翻译结果

### 设置页面翻译
- 特殊功能：可以翻译 Obsidian 设置页面的文本
- 帮助非英语用户更好地理解设置选项
- 使用 `Ctrl+Shift+P` 快捷键激活

## ⚠️ 注意事项

### API 使用
- **OpenAI API**：需要有效的 API Key，使用会产生费用
- **Token 限制**：注意 API 的 token 限制，大文本可能需要分段翻译
- **网络连接**：确保网络连接稳定，翻译需要访问外部 API

### 隐私安全
- 翻译的文本会发送到第三方服务（如 OpenAI）
- 敏感信息请谨慎翻译
- API Key 等敏感信息会安全存储在本地

### 性能考虑
- 大文本翻译可能需要较长时间
- 频繁翻译可能影响 Obsidian 性能
- 建议合理使用，避免过度翻译

### 兼容性
- 支持 Obsidian 1.0.0 及以上版本
- 部分功能可能与其他插件存在冲突
- 建议定期更新到最新版本

## 🐛 故障排除

### 常见问题

**翻译失败**
- 检查网络连接
- 验证 API Key 是否正确
- 确认 API 服务是否正常

**快捷键不工作**
- 检查是否与其他插件快捷键冲突
- 在设置中重新配置快捷键
- 重启 Obsidian 后再试

**设置页面翻译无效**
- 确保在正确的设置页面使用快捷键
- 检查翻译服务配置是否正确
- 尝试切换不同的翻译服务

**翻译结果格式错乱**
- 检查原文是否包含特殊字符
- 尝试调整翻译参数
- 使用不同的显示模式

### 获取帮助
- 查看插件设置页面的详细说明
- 检查 Obsidian 控制台的错误信息
- 提交 Issue 到项目仓库

## 📝 更新日志

### v1.0.0
- 初始版本发布
- 支持 OpenAI 和自定义 API 翻译
- 提供弹窗、侧边栏、内联三种显示模式
- 支持设置页面翻译功能
- 添加快捷键和命令面板支持

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来改进这个插件！

## 📄 许可证

MIT License - 详见 LICENSE 文件

---

**享受翻译的便利！** 🌍✨